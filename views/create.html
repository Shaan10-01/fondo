<!DOCTYPE html>
<html>
    <head>
        <title>fondo</title>
        <meta name="theme-color" content="#333">
        <link rel="icon" href="/favicon.ico">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
        <link rel="stylesheet" href="index.css">
        <script src="index.js"></script>
    </head>
    <body  onload="search(); checkNewID();" >
            <div id="background">
                    <img src="https://shirley-setia.000webhostapp.com/FondoBackground.svg" style="width: 100%; min-height: 100%;" alt="background">
            </div>
        <header>
            <nav> 
                <ul>
                    <li> 
                        <a id="mobilenavall" href="/">
                            <h1>fondo</h1>
                        </a>
                    </li>
                    <li id="mobilenav" onclick="togglenav();">&#9776;</li>
                    <div id="navlist">
                    <li><a href="/confessions/" onclick="togglenav();">Confessions</a></li>
                    <li><a href="/profile" onclick="togglenav();">Profile</a></li>
                    <li><a href="/about" onclick="togglenav();">About</a></li>
                    <div id="rightoption">
                    <li><input type="search" placeholder="Enter ID" id="searchbar" style="border-radius: 10px; outline:none;" name="searchID"></li>
                    <li><a href="/create" onclick="togglenav();" style="border: 2px solid white; border-radius:5px; padding:5px; margin:10px;">&#65291; CREATE</a></li>
                    </div>
                    </div>
                </ul>
            </nav>
        </header>
        <section id="container" style="margin-top: 86.6px;">
            <section id="create" style="margin-top: 86.6px;">
                <div id = 'formCss'>
                    <div id="form">
                            <fieldset id="sd">
                                <legend>Welcome new user</legend>
                                <form id = "meraForm" action="/save-details" method="POST" enctype="multipart/form-data">
                                    <input id="newID" class="passInput" type="text" name="UserID" placeholder="Enter new ID [numerical]"> <b><p id="test"></p></b><br>
                                    <input type="password" class="passInput" name="Password" placeholder="Enter new password (optional)"><br><br>
                                    <label for="tags">Enter Tags (Space Separated)</label><br>
                                    <input type="text" class="passInput" name="tags">
                                    <input id="type" type="hidden" name="image_type">
                                    <input type="hidden" id="url" name="url">
                                    <input type="submit" style="visibility: hidden;" id="submitit" value="submit">
                                    <!-- style="visibility: hidden; height: 0; width: 0; padding:0;margin: 0; border: 0;"> -->
                                </form>
                                <hr style="margin: 10px; color: black;">
                                <label for="fileInput">Select an image to submit!</label>
                                <input id="fileInput" type="file" name="filetoupload"><br>
                                <div id="myProgress">
                                    <div id="myBar"></div>
                                    <div id="per"></div>
                                </div>
                            </fieldset>
                        </div>
                    <script>
                    (() => {
                        document.getElementById("fileInput").onchange = () => {
                            if(document.getElementById('test').innerText.length != 0){
                                alert("Correct your ID");
                                document.getElementById('fileInput').value = "";
                                return;
                            }
                            if(document.getElementById('newID').value.length == 0){
                                alert("Enter ID to continue.");
                                document.getElementById('fileInput').value = "";
                                return;
                            }
                          const files = document.getElementById('fileInput').files;
                          const file = files[0];
                          if(file == null){
                            return alert('No file selected.');
                          }
                          if(file.type.split('/')[0] != "image"){
                              alert("Please enter images");
                              document.getElementById('fileInput').value = "";
                              return;
                          }
                          document.getElementById('type').value = file.type;
                          getSignedRequest(file);
                        };
                      })();
                    </script>
            </div>
            </section>
        </section>
        <footer>
                handcrafted every line of code by Anonymous
                <br>
                Powered by: Heroku | Godaddy | AWS S3 | Third Party Database Manager
            </footer>
    </body>
</html>